# Scaler
:데이터를 모델링하기 전에는 반드시 **스케일러** 과정을 거쳐야 한다 
스케일링을 통해 **다차원의 값들을 비교 분석하기 쉽게** 만들어주며

자료의 오버플로우(overflow) or 언더플로우(underflow)를 방지 할수있으며, 독립 변수의 공분산 행렬의 조건수(condition number)를 감소시켜 **최적화 과정에서의 안정성 및 수렴 속도를 향상** 시킨다 

특히 k-means 등 거리 기반의 모델에서는 스케일링이 매우 중요하다

## 회귀분석에서의 조건수 

고유값과 관련된 조건수의 관계를 나타내는 산삭은 c = condeig(A)이다 

함수의 조건수는 argument에서의 작은 변화의 비율에 대해 함수가 얼마나 변화 할 수 있는지 에 대한 argument measure이다

조건수가 크면 약간의 오차만 있어도 해가 전혀 다른 갑사을 가진다. 따라서 조건수가 크면 회귀분석을 사용한 오차가 커지게 된다 

**회귀분석에서 조건수가 커지는 경우는 크게 두 가지가 있다**

``` 
1. 변수들의 단위 차이로 인해 숫자의 스케일이 크게 달라지는 경우.
    이경우에는 스케일링으로 해결한다
```

```
2. 다중 공선성 즉, 상관관계가 큰 독립 변수들이 있는 경우,
    이경우에는 변수 선택이나  PCA를 사용한 차원 축소등으로 해결한다 
```

그리고 다음과 같은 경우에는 로그 함수 혹은 제곱근 함수 등을 사용하여 변환된 변수를 사용하면 회귀 성능이 향상될 수도 있다.

>독립 변수나 종속 변수가 심하게 한쪽으로 치우친 분포를 보이는 경우 독립 변수와 종속 변수간의 관계가 곱셉 혹은 나눗셉으로 연결된 경우 종속 변수와 예측치가 비선형 관계를 보이는 경우 

대부분 우리가 다루는 데이터 중 금액처럼 큰 수치 데이터에 로그를 취하게 되는 이유이기도 하다 

보통 이런 데이터는 선별적으로 로그를 취한 후 모델링 전 전반적으로 스케일링을 적용한다 (in my opinion)

## 스케일링의 종류 

|종류|설명|
|------|---------------------|
|1. StandardScaler|기본 스케일. 평균과 표준편차 사용| 
|2. MinMaxScaler|최대/최소값이 각각1,0이 되도록 스케일링| 
|3. MaxAbsScaler|최대절대값과 0이 각각 1,0이 되도록 스케일링| 
|4. RobustdScaler|중앙값과 IQR 사용. 아웃라이어의 영향을 최소화| 


## 1. StandardScaler
평균을 제거하고 데이터를 단위 분산으로 조정한다. 그러나 이상치가 있다면 평균과 표준편차에 영향을 미쳐 변환된 데이터의 확산은 매우 달라지게 된다  

**이상치가 있는 경우 균형잡힌 척도를 보장할 수 없다**

## 2. MinMaxScaler
모든 feature 값이 0~1사이에 있도록 데이터를 재조정한다 다만 이상치가 있는 경우 변환된 값이 매우 좁은 범위로 압축될 수 있다 

**즉,MinMaxScaler 역시 아웃라이어의 존재에 매우 민감하다**

## 3. MaxAbsScaler
절대값이 0부터1사이에 매핑되도록 한다 즉 -1부터1사이로 재조정한다 양수 데이터로만 구성된 특징 데이터셋에서는 MinMaxScaler 와 유사하게 동작하며, **큰 이상치에 민감할 수 있다**

## 4. RobustdScaler
아웃라이어의 영향을 최소화한 기법이다. **중앙값과 IQR(interquartile range)**을 사용하기때문에 StandarScaler와 비교해보면 표준화 후 동일한 값을 더 넓게 분포 시키고 있음을 확인 할 수 있다 




## 결론적으로 모든 스케일러 처리 전에는 아웃라이어 제거가 선행되어야 한다. 또한 데이터의 분포 특징에 따라 적절한 스케일러를 적용해주는 것이 좋다 

